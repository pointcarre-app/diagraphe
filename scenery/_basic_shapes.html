<!DOCTYPE html>
<html lang="en" data-theme="anchor">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scenery : Basic Shapes</title>

    <!-- CSS Dependencies -->
    <link rel="stylesheet" href="../dependencies/google_fonts.css" />
    <link rel="stylesheet" href="../dependencies/open_dyslexic_regular.css" />
    <link rel="stylesheet" href="../dependencies/daisyui@5.css" />
    <link rel="stylesheet" href="../dependencies/daisyui@5themes.css" />


    <!-- Our CSS -->
    <!-- Just variables (fonts & themes) -->
    <link rel="stylesheet" href="../src/css/root.css" />

    <!-- SVG theming : ie fill / stroke for semantic colors (content variants) -->
    <link rel="stylesheet" href="../src/css/daisyui-svg-theming.css" />
    <link rel="stylesheet" href="../src/css/global.css" />

    <!-- JavaScript Dependencies -->
    <script src="../dependencies/tailwindcssbrowser@4.js"></script>


    <!-- Diagraphe Module -->
    <script type="module">
        import {
            Diagraphe
        } from '../src/diagraphe.js';

        document.addEventListener('DOMContentLoaded', () => {
            const grid = document.querySelector('#grid');
            grid.innerHTML = '';

            const card = document.createElement('div');
            card.className = 'card bg-base-100 shadow-xl';

            const label = "Basic shapes"
            const description = "Pure geometry"

            const config = {
                    margin: {
                        top: 20,
                        right: 20,
                        bottom: 20,
                        left: 20
                    },
                    svg: {
                        classes: ['bg-base-300'],
                    },
                    elements: [
                    {
                        nature: 'rect',
                        classes: ['fill-secondary'],
                        width: 20,
                        height: 10,
                        x : 100,
                        y : 80,
                    },
                    {
                        nature: 'circle',
                        classes: ['fill-secondary'],
                        radius: 30,
                        x: 50,
                        y: 50,
                    },{
                        nature: 'circle',
                        classes: ['fill-primary'],
                        radius: 10,
                        x: 100,
                        y: 50,
                    },{
                        nature: 'line',
                        classes: ['stroke-info'],
                        x1: 50,
                        y1: 150,
                        x2: 150,
                        y2: 150,
                        strokeWidth: 2,
                        label: "d",
                        labelClasses: ['fill-secondary'],
                        labelFontSize: 14
                    }]
                }

            // Build config display string
            const configStr = JSON.stringify(config, null, 2)
                .replace(/"([^"]+)":/g, '$1:'); // Remove quotes from keys

            card.innerHTML = `
                <div class="card-body">
                    <h3 class="card-title text-sm">${label}</h3>
                    <p class="text-xs text-base-content/60">${description}</p>
                    <div class="graph-demo my-2"></div>
                    <details class="collapse collapse-arrow bg-base-200">
                        <summary class="collapse-title text-xs font-medium py-2 min-h-0">Config</summary>
                        <div class="collapse-content">
                            <pre class="text-xs overflow-x-auto"><code>${configStr}</code></pre>
                        </div>
                    </details>
                </div>
            `;

            grid.appendChild(card);

            new Diagraphe({
                container: card.querySelector('.graph-demo'),
                ...config
            });
        });
    </script>

  </head>
  <body>
    <main id="main" class="container mx-auto p-4">

      <div id="grid" class="grid grid-cols-1 md:grid-cols-2  gap-4"></div>
    </main>
  </body>
</html>
